# Bias Project — IFT6261
## Program Description

The final project for IFT6261 — Traitement de connaissances aims to provide clear evidence of misinformation and/or slanderous information traces in autocomplete suggestion query list from two search engines, Google and Yahoo. We will generate autosuggestion lists for different search engine (Yahoo and Google) based on different locations and queries
tied to different subjects (race, gender, political) in order to assess the valence of these popular results. Thus, we will analyse the sentiment analysis distribution of suggested queries of different topics over different localizations in order to provide understanding of the challenges of autocomplete suggestion. The results shall be presented in a world heat map, where indicators ranging from "very negative" to "very positive" will be represented through a colour spectrum.


## Architecture

The general pipeline of our program consists of the following step: web scraping, sentiment analysis and heat map. In the web scraping step, we collect different autosuggestion list from google and yahoo generated by queries related to a particular subject (eg. Gender) from different location when the search engine allows it. The lists of autosuggestion query are then stored and used for sentiment analysis. In sentiment analysis, we asses the valence of a given autosuggestion by outputting a score for negativity and positivity. For different locations, the mean output score is then projected to a heat map for visualisation purposes of the analysis. The following sections will describe the key function written for our program. 

a. [google_query.py]([https://github.com/camcherif/bias_project/blob/master/google_query.py]) is a function part of the web scrapping pipeline of our program. The function takes a string query and a localization of type country as input and searches for the autocomplete recommendation query list of the google search engines via an API which uses the input informations. This function returns a list of string corresponding to the autcomplete recommendation query list for the input query and the localization specified

b. [yahoo_query.py]([https://github.com/camcherif/bias_project/blob/master/yahoo_query.py]) is an additional function part of the web scrapping pipeline of our program. The function takes a string query and a localization of type country as input searches for the autocomplete recommendation query list of the yahoo search engines via web scrapping by inspecting the yahoo page for real-time input queries. This function returns a list of string corresponding to the autocomplete recommendation query list for the input query and the localization specified.

c. [sentiment.py]([https://github.com/camcherif/bias_project/blob/master/sentiment.py]) is a function part of the sentiment analysis pipeline of our program. The function takes as input the list of queries output by either google_query.py or yahoo_query.py and transforms the input for sentiment analysis. These transformations include tokenization, followed by stemming of the autocomplete query string. Using Sentiment Intensity Analyzer function from NLTK python package, these transformed autocomplete queries are fed to the sentiment analyzer
2model which return a score. This score takes values between -1 and 1. A score below 0 indicates that the sentiment value extracted from the autocomplete query has a negative valence while a score greater than 0 indicates a positive valence. Scores with a value of 0 indicated a neutral valence of the input autocomplete query.

d. [heatmap.py]([https://github.com/camcherif/bias_project/blob/master/heatmap.py]) is a function part of the mapping pipeline of our program. The function takes as input a list of the countries for which the queries have been made, a string of the query that was made, a list of pairs for each country and the sentiment score it obtained for Google queries, and the same sort of list for Yahoo queries. From a dataset of geopandas format, it will only keep the countries given as input, and their geographical mapping. This dataset will then be adapted to obtain the 2-letter alpha code of each country, which it will use to create two additional columns for the Google and Yahoo sentiment scores. Followingly, two plots will be made, each will be a heat map based on the sentiment scores given for the selected countries, which will be colored based on their biases, from positive with cold colors, to neutral, to negative with warm colors, while being attributed proportionally to the data.
